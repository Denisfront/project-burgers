"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}for(var acco=document.getElementsByClassName("accordeon__item"),content=document.getElementsByClassName("accordeon-content"),_loop=function(n){var o=acco[n];o.addEventListener("click",function(e){e.preventDefault();for(var t=0;t<acco.length;t++)t!==n&&acco[t].classList.remove("accordeon-content--color--positoin--overflow");o.classList.contains("accordeon-content--color--positoin--overflow")?o.classList.remove("accordeon-content--color--positoin--overflow"):o.classList.add("accordeon-content--color--positoin--overflow")})},index=0;index<acco.length;index++)_loop(index);var form__inputjs=document.querySelector(".form__inputjs");form__inputjs.addEventListener("keydown",function(e){var t=!1,n=!1,o=!1;(0<=event.key||event.ket<=9)&&(t=!0),"-"==event.key&&(n=!0),"ArrowLeft"!=event.key&&"ArrowRight"!=event.key&&"ArrowUp"!=event.key&&"ArrowDown"!=event.key&&"Backspace"!=event.key&&"Tab"!=event.key||(o=!0),t||n||o||e.preventDefault()});var Myform=document.querySelector(".form"),form=new FormData,btnform=document.querySelector("#btn-form"),overlayform=document.querySelector(".overlay-form"),overlaycontent=document.querySelector(".overlay-form__conent"),overlayformclouse=document.querySelector(".overlay-form__clouse");function validateForm(e){var t=!0;return validateField(e.elements.name)||(t=!1),validateField(e.elements.phone)||(t=!1),validateField(e.elements.street)||(t=!1),validateField(e.elements.house)||(t=!1),validateField(e.elements.apartament)||(t=!1),validateField(e.elements.floor)||(t=!1),t}function validateField(e){return e.nextElementSibling.textContent=e.validationMessage,e.checkValidity()}btnform.addEventListener("click",function(e){if(e.preventDefault(),validateForm(Myform)){var t={name:Myform.elements.name.value,phone:Myform.elements.phone.value,street:Myform.elements.street.value,comment:"commetn",house:Myform.elements.house.value,apartament:Myform.elements.apartament.value,floor:Myform.elements.floor.value,to:"kaktus.Zzzz@mail.ru"};for(var n in t)form.append(n,t[n]);var o=new XMLHttpRequest;o.onreadystatechange=function(){if(4===o.readyState&&200===o.status){var e=JSON.parse(o.response);console.log(e)}},o.open("POST","https://webdev-api.loftschool.com/sendmail"),o.send(form),o.addEventListener("load",function(){overlayform.style.display="flex",200===o.status?overlaycontent.innerText="Сообщение отправильно":overlaycontent.innerText="Отправить письмо не удалось, повторите запрос позже",overlayformclouse.addEventListener("click",function(e){e.preventDefault(),overlayform.style.display="none",body.classList.remove("body_closed"),Myform.reset()}),body.classList.add("body_closed"),overlayform.addEventListener("click",function(e){e.target===overlayform&&(overlayform.style.display="none",body.classList.remove("body_closed"),Myform.reset())})})}}),$(function(){$("#phone").mask("8(999) 999-9999")}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==("undefined"==typeof exports?"undefined":_typeof(exports))?require("jquery"):jQuery)}(function(S){var o,e=navigator.userAgent,L=/iphone/i.test(e),a=/chrome/i.test(e),x=/android/i.test(e);S.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},S.fn.extend({caret:function(e,t){var n;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&((n=this.createTextRange()).collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),e=0-n.duplicate().moveStart("character",-1e5),t=e+n.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(t,h){var n,g,b,_,k,C,w;if(!t&&0<this.length){var e=S(this[0]).data(S.mask.dataName);return e?e():void 0}return h=S.extend({autoclear:S.mask.autoclear,placeholder:S.mask.placeholder,completed:null},h),n=S.mask.definitions,g=[],b=C=t.length,_=null,S.each(t.split(""),function(e,t){"?"==t?(C--,b=e):n[t]?(g.push(new RegExp(n[t])),null===_&&(_=g.length-1),e<b&&(k=g.length-1)):g.push(null)}),this.trigger("unmask").each(function(){function i(){if(h.completed){for(var e=_;e<=k;e++)if(g[e]&&f[e]===l(e))return;h.completed.call(v)}}function l(e){return h.placeholder.charAt(e<h.placeholder.length?e:0)}function c(e){for(;++e<C&&!g[e];);return e}function s(e,t){var n,o;if(!(e<0)){for(n=e,o=c(t);n<C;n++)if(g[n]){if(!(o<C&&g[n].test(f[o])))break;f[n]=f[o],f[o]=l(o),o=c(o)}u(),v.caret(Math.max(_,e))}}function r(){m(),v.val()!=y&&v.change()}function d(e,t){var n;for(n=e;n<t&&n<C;n++)g[n]&&(f[n]=l(n))}function u(){v.val(f.join(""))}function m(e){var t,n,o,a=v.val(),r=-1;for(o=t=0;t<C;t++)if(g[t]){for(f[t]=l(t);o++<a.length;)if(n=a.charAt(o-1),g[t].test(n)){f[t]=n,r=t;break}if(o>a.length){d(t+1,C);break}}else f[t]===a.charAt(o)&&o++,t<b&&(r=t);return e?u():r+1<b?h.autoclear||f.join("")===p?(v.val()&&v.val(""),d(0,C)):u():(u(),v.val(v.val().substring(0,r+1))),b?t:_}var v=S(this),f=S.map(t.split(""),function(e,t){return"?"!=e?n[e]?l(t):e:void 0}),p=f.join(""),y=v.val();v.data(S.mask.dataName,function(){return S.map(f,function(e,t){return g[t]&&e!=l(t)?e:null}).join("")}),v.one("unmask",function(){v.off(".mask").removeData(S.mask.dataName)}).on("focus.mask",function(){var e;v.prop("readonly")||(clearTimeout(o),y=v.val(),e=m(),o=setTimeout(function(){v.get(0)===document.activeElement&&(u(),e==t.replace("?","").length?v.caret(0,e):v.caret(e))},10))}).on("blur.mask",r).on("keydown.mask",function(e){if(!v.prop("readonly")){var t,n,o,a=e.which||e.keyCode;w=v.val(),8===a||46===a||L&&127===a?(n=(t=v.caret()).begin,(o=t.end)-n==0&&(n=46!==a?function(e){for(;0<=--e&&!g[e];);return e}(n):o=c(n-1),o=46===a?c(o):o),d(n,o),s(n,o-1),e.preventDefault()):13===a?r.call(this,e):27===a&&(v.val(y),v.caret(0,m()),e.preventDefault())}}).on("keypress.mask",function(e){if(!v.prop("readonly")){var t,n,o,a=e.which||e.keyCode,r=v.caret();if(!(e.ctrlKey||e.altKey||e.metaKey||a<32)&&a&&13!==a){if(r.end-r.begin!=0&&(d(r.begin,r.end),s(r.begin,r.end-1)),(t=c(r.begin-1))<C&&(n=String.fromCharCode(a),g[t].test(n))){if(function(e){var t,n,o,a;for(n=l(t=e);t<C;t++)if(g[t]){if(o=c(t),a=f[t],f[t]=n,!(o<C&&g[o].test(a)))break;n=a}}(t),f[t]=n,u(),o=c(t),x){setTimeout(function(){S.proxy(S.fn.caret,v,o)()},0)}else v.caret(o);r.begin<=k&&i()}e.preventDefault()}}}).on("input.mask paste.mask",function(){v.prop("readonly")||setTimeout(function(){var e=m(!0);v.caret(e),i()},0)}),a&&x&&v.off("input.mask").on("input.mask",function(){var e=v.val(),t=v.caret();if(w&&w.length&&w.length>e.length){for(m(!0);0<t.begin&&!g[t.begin-1];)t.begin--;if(0===t.begin)for(;t.begin<_&&!g[t.begin];)t.begin++;v.caret(t.begin,t.begin)}else{for(m(!0);t.begin<C&&!g[t.begin];)t.begin++;v.caret(t.begin,t.begin)}i()}),m()})}})});for(var item=document.getElementsByClassName("accordeon-menu__item"),_loop2=function(n){var o=item[n];o.addEventListener("click",function(e){e.preventDefault();for(var t=0;t<item.length;t++)t!==n&&item[t].classList.remove("accordeon-menu__content--active--color");o.classList.contains("accordeon-menu__content--active--color")?o.classList.remove("accordeon-menu__content--active--color"):o.classList.add("accordeon-menu__content--active--color")})},_index=0;_index<item.length;_index++)_loop2(_index);var hamburger=document.querySelector("#hamburger"),arrowscroww=document.querySelector("#arrowscroll"),computed=getComputedStyle(navtablets),computedscroll=getComputedStyle(arrowscroll),body=document.querySelector("body");hamburger.addEventListener("click",function(e){e.preventDefault();var t=computed.display,n=computedscroll.display;"none"==t?(navtablets.style.display="flex",body.classList.add("body_closed")):(navtablets.style.display="none",body.classList.remove("body_closed")),arrowscroll.style.display="block"==n?"none":"block"});var sections=$(".section"),display=$(".maincontent"),inScroll=!1,md=new MobileDetect(window.navigator.userAgent),isMobile=md.mobile(),performTransition=function(e){if(!inScroll){inScroll=!0;var t=-100*e;isNaN(t)&&console.error("передли неверное значение в performTransition"),sections.eq(e).addClass("active").siblings().removeClass("active"),display.css({transform:"translateY(".concat(t,"%)")}),setTimeout(function(){inScroll=!1,$(".column__item").eq(e).addClass("column__dot--active").siblings().removeClass("column__dot--active")},1300),0<e?$(".header").css({display:"none"}):$(".header").css({display:"block"})}},scrollToSection=function(e){var t=sections.filter(".active"),n=t.next(),o=t.prev();"next"===e&&n.length&&performTransition(n.index()),"prev"===e&&o.length&&performTransition(o.index())};$(window).on("wheel",function(e){var t=e.originalEvent.deltaY;0<t&&scrollToSection("next"),t<0&&scrollToSection("prev")}),$(window).on("keydown",function(e){var t=e.target.tagName.toLowerCase();if(!("input"===t||"textarea"===t))switch(e.keyCode){case 38:scrollToSection("prev");break;case 40:scrollToSection("next")}}),$("[data-scroll-to]").on("click",function(e){e.preventDefault();var t=$(e.currentTarget).attr("data-scroll-to");performTransition(t)}),isMobile&&$("body").swipe({swipe:function(e,t){scrollToSection("up"===t?"next":"prev")}});var buttonOpen=document.querySelector("#buttonOpen"),body1=document.querySelector("body"),reviews=document.querySelector("#reviewsjs"),openOverlay=reviewOverlay("Константин Спилберг","Мысли все о них и о них, о них и о них. Нельзя устоять, невозможно забыть... Никогда не думал, что булочки могут быть такими мягкими, котлетка такой сочной, а сыр таким расплавленным. Мысли все о них и о них, о них и о них. Нельзя устоять, невозможно забыть... Никогда не думал, что булочки могут быть такими мягкими, котлетка такой сочной, а сыр таким расплавленным.");function reviewOverlay(e,t){var n=document.createElement("div");n.classList.add("overlay"),n.addEventListener("click",function(e){e.target===n&&i.click()});var o=document.createElement("div");o.classList.add("overlay__container");var a=document.createElement("div");a.classList.add("overlay__username"),a.innerHTML=e;var r=document.createElement("div");r.classList.add("overlay-content"),r.innerHTML=t;var i=document.createElement("a");return i.classList.add("close"),i.href="#",i.addEventListener("click",function(e){e.preventDefault(),reviews.removeChild(openOverlay),body1.classList.remove("body_closed")}),n.appendChild(o),o.appendChild(a),o.appendChild(r),o.appendChild(i),n}$(".buttonOpen").on("click",function(){reviews.appendChild(openOverlay),body1.classList.add("body_closed")}),$(function(){function i(e,t){var n=e.filter(".active"),o=e.eq(t),a=o.index();o.length&&e.animate({left:100*-a+"%"},500,function(){n.removeClass("active"),o.addClass("active")})}$(".button-slider").on("click",function(e){e.preventDefault();var t,n,o,a=$(".menu-slider__content"),r=a.filter(".active");$(this).hasClass("button-next")&&(t=r.next(),n=a.first()),$(this).hasClass("button-prev")&&(t=r.prev(),n=a.last()),o=t.length?t.index():n.index(),i(a,o),t.length?i(a,t):i(a,n)})});var vid=document.getElementsByTagName("video")[0],playBtn=document.getElementById("player__start"),playBtnStart=document.getElementById("player__button-start"),svgIcon=$(".icon-play"),btnPaused=$(".player__start"),volumeControl=$(".player__playsound"),playTime=$(".player__duratipn-completed");playBtn.addEventListener("click",function(){vid.paused?(btnPaused.addClass("paused"),playBtnStart.classList.add("play__button-none"),svgIcon.css({display:"none"}),vid.play()):(vid.pause(),btnPaused.removeClass("paused"),svgIcon.css({display:"block"}))},!1),playBtnStart.addEventListener("click",function(){vid.paused?(playBtnStart.classList.add("paused"),vid.play()):vid.pause()},!1),ymaps.ready(init);var placemarks=[{latitude:59.97,longitude:30.31,hintContent:'<div class="map__hint">ул. Литераторов, д.19</div>',balloonContent:['<div class="map__baloon">',"Cамые вкусные бургеры у нас! Заходите с 10:00 до 21:00 по адресу: ул. Литераторов, д.19","</div>"]},{latitude:59.88,longitude:30.31,hintContent:'<div class="map__hint">ул. Литераторов, д.19</div>',balloonContent:['<div class="map__baloon">',"Cамые вкусные бургеры у нас! Заходите с 10:00 до 21:00 по адресу: ул. Литераторов, д.19","</div>"]},{latitude:59.94,longitude:30.38,hintContent:'<div class="map__hint">ул. Литераторов, д.19</div>',balloonContent:['<div class="map__baloon">',"Cамые вкусные бургеры у нас! Заходите с 10:00 до 21:00 по адресу: ул. Литераторов, д.19","</div>"]},{latitude:59.91,longitude:30.49,hintContent:'<div class="map__hint">ул. Литераторов, д.19</div>',balloonContent:['<div class="map__baloon">',"Cамые вкусные бургеры у нас! Заходите с 10:00 до 21:00 по адресу: ул. Литераторов, д.19","</div>"]}];function init(){var n=new ymaps.Map("map",{center:[59.92,30.32],zoom:11,controls:["zoomControl"],behaviors:["drag"]});placemarks.forEach(function(e){var t=new ymaps.Placemark([e.latitude,e.longitude],{hintContent:e.hintContent,balloonContent:e.balloonContent.join("")},{iconLayout:"default#image",iconImageHref:"img/icons/map-marker.svg",iconImageSize:[46,57],iconImageOffset:[-23,-57]});n.geoObjects.add(t)})}